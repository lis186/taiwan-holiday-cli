# Taiwan Holiday CLI - Product Requirements Document

## 1. Overview

ç¨ç«‹çš„å°ç£å‡æœŸæŸ¥è©¢å‘½ä»¤åˆ—å·¥å…·ï¼Œæä¾›å®Œæ•´çš„å‡æœŸæŸ¥è©¢ã€çµ±è¨ˆèˆ‡å·¥ä½œå¤©è¨ˆç®—åŠŸèƒ½ã€‚

### 1.1 å°ˆæ¡ˆè³‡è¨Š

| é …ç›® | å…§å®¹ |
|------|------|
| å°ˆæ¡ˆåç¨± | taiwan-holiday-cli |
| CLI å‘½ä»¤ | `holiday` |
| è³‡æ–™ä¾†æº | [TaiwanCalendar](https://github.com/ruyut/TaiwanCalendar) |
| æ”¯æ´å¹´ä»½ | 2017-2026 |
| ç‰ˆæœ¬ | 1.0.0ï¼ˆç¨ç«‹ SemVerï¼‰ |
| æˆæ¬Š | MIT |

### 1.2 Tech Stack

| é¡åˆ¥ | æŠ€è¡“ |
|------|------|
| èªè¨€ | TypeScript |
| Runtime | Node.js >= 20.0.0 |
| CLI Framework | Commander.js |
| HTTP Client | ofetch |
| è¡¨æ ¼è¼¸å‡º | cli-table3 |
| é…ç½®ç®¡ç† | conf |
| ç’°å¢ƒè®Šæ•¸ | dotenv |
| æ¸¬è©¦æ¡†æ¶ | vitest |
| å»ºç½®å·¥å…· | tsc / bun (binary) |
| é–‹ç™¼å·¥å…· | tsx |

### 1.3 ç›¸å®¹æ€§çŸ©é™£

| é …ç›® | æ”¯æ´ç¯„åœ |
|------|----------|
| Node.js | 20, 22 |
| macOS | arm64, x64 |
| Linux | arm64, x64 |
| Windows | x64 |

---

## 2. åŠŸèƒ½è¦æ ¼

### 2.1 Commands ç¸½è¦½

| å‘½ä»¤ | èªªæ˜ |
|------|------|
| `holiday [date]` | é è¨­å‘½ä»¤ï¼Œç­‰åŒ `holiday check <date>` |
| `holiday check <date>` | æª¢æŸ¥æŒ‡å®šæ—¥æœŸæ˜¯å¦ç‚ºå‡æœŸ |
| `holiday range <start> <end>` | æŸ¥è©¢æ—¥æœŸç¯„åœå…§çš„å‡æœŸ |
| `holiday stats <year> [month]` | æŸ¥è©¢å‡æœŸçµ±è¨ˆè³‡è¨Š |
| `holiday list <year>` | åˆ—å‡ºæŒ‡å®šå¹´ä»½æ‰€æœ‰å‡æœŸ |
| `holiday years` | åˆ—å‡ºæ”¯æ´çš„å¹´ä»½ç¯„åœ |
| `holiday today` | æŸ¥è©¢ä»Šå¤©æ˜¯å¦ç‚ºå‡æœŸ |
| `holiday next [count]` | æŸ¥è©¢æ¥ä¸‹ä¾†çš„å‡æœŸ |
| `holiday month [year-month]` | æŸ¥è©¢æŒ‡å®šæœˆä»½çš„å‡æœŸ |
| `holiday workdays <year-month>` | è¨ˆç®—æŒ‡å®šæœˆä»½çš„å·¥ä½œå¤©æ•¸ |
| `holiday between <start> <end>` | è¨ˆç®—å…©æ—¥æœŸé–“çš„å¤©æ•¸çµ±è¨ˆ |
| `holiday cache <action>` | å¿«å–ç®¡ç† |
| `holiday config <action>` | è¨­å®šç®¡ç† |
| `holiday health` | ç³»çµ±å¥åº·æª¢æŸ¥ |
| `holiday completion <shell>` | ç”¢ç”Ÿ shell è‡ªå‹•è£œå…¨è…³æœ¬ |

---

### 2.2 å‘½ä»¤è©³ç´°è¦æ ¼

#### 2.2.1 `holiday [date]` (é è¨­å‘½ä»¤)

ç›´æ¥è¼¸å…¥æ—¥æœŸå³å¯æŸ¥è©¢ï¼Œç­‰åŒ `holiday check`ã€‚

```bash
$ holiday 2025-10-10
2025-10-10 (äº”) æ˜¯å‡æœŸï¼šåœ‹æ…¶æ—¥

$ holiday tomorrow
2025-01-06 (ä¸€) ä¸æ˜¯å‡æœŸï¼Œæ˜¯ä¸€èˆ¬å·¥ä½œæ—¥
```

---

#### 2.2.2 `holiday check <date>`

æª¢æŸ¥æŒ‡å®šæ—¥æœŸæ˜¯å¦ç‚ºå°ç£å‡æœŸã€‚

**åƒæ•¸ï¼š**
- `<date>` (å¿…å¡«): æ—¥æœŸï¼Œæ”¯æ´å¤šç¨®æ ¼å¼ï¼ˆè¦‹ 2.3 æ—¥æœŸæ ¼å¼ï¼‰

**é¸é …ï¼š**
- `-f, --format <format>`: è¼¸å‡ºæ ¼å¼ (json | table | simple)ï¼Œé è¨­ `simple`

**è¼¸å‡ºç¯„ä¾‹ï¼š**

```bash
# Simple æ ¼å¼
$ holiday check 2025-10-10
2025-10-10 (äº”) æ˜¯å‡æœŸï¼šåœ‹æ…¶æ—¥

$ holiday check 2025-10-08
2025-10-08 (ä¸‰) ä¸æ˜¯å‡æœŸï¼Œæ˜¯ä¸€èˆ¬å·¥ä½œæ—¥

# JSON æ ¼å¼
$ holiday check 2025-10-10 -f json
{
  "date": "2025-10-10",
  "normalizedDate": "20251010",
  "week": "äº”",
  "isHoliday": true,
  "description": "åœ‹æ…¶æ—¥"
}

# Table æ ¼å¼
$ holiday check 2025-10-10 -f table
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ—¥æœŸ       â”‚ æ˜ŸæœŸ â”‚ æ˜¯å¦å‡æœŸ â”‚ èªªæ˜       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2025-10-10 â”‚ äº”   â”‚ âœ“        â”‚ åœ‹æ…¶æ—¥     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### 2.2.3 `holiday range <start> <end>`

æŸ¥è©¢æŒ‡å®šæ—¥æœŸç¯„åœå…§çš„æ‰€æœ‰å‡æœŸã€‚

**åƒæ•¸ï¼š**
- `<start>` (å¿…å¡«): é–‹å§‹æ—¥æœŸ
- `<end>` (å¿…å¡«): çµæŸæ—¥æœŸ

**é¸é …ï¼š**
- `-f, --format <format>`: è¼¸å‡ºæ ¼å¼ (json | table | simple)
- `--include-workdays`: åŒ…å«å½±éŸ¿è©²ç¯„åœçš„è£œç­æ—¥è³‡è¨Šï¼ˆå¯èƒ½é¡¯ç¤ºç¯„åœå¤–çš„è£œç­æ—¥ï¼‰

**è¼¸å‡ºç¯„ä¾‹ï¼š**

```bash
$ holiday range 2025-10-01 2025-10-31
2025å¹´10æœˆå‡æœŸæ¸…å–® (å…± 5 å€‹å‡æœŸ)ï¼š
- 2025-10-04 (å…­) é€±æœ«
- 2025-10-05 (æ—¥) é€±æœ«
- 2025-10-10 (äº”) åœ‹æ…¶æ—¥
- 2025-10-11 (å…­) é€±æœ«
- 2025-10-12 (æ—¥) é€±æœ«

$ holiday range 2025-10-01 2025-10-31 --include-workdays
2025å¹´10æœˆå‡æœŸæ¸…å–® (å…± 5 å€‹å‡æœŸï¼Œ1 å€‹è£œç­æ—¥)ï¼š

å‡æœŸï¼š
- 2025-10-04 (å…­) é€±æœ«
- 2025-10-05 (æ—¥) é€±æœ«
- 2025-10-10 (äº”) åœ‹æ…¶æ—¥
- 2025-10-11 (å…­) é€±æœ«
- 2025-10-12 (æ—¥) é€±æœ«

å½±éŸ¿æ­¤ç¯„åœçš„è£œç­æ—¥ï¼š
- 2025-09-27 (å…­) è£œè¡Œä¸Šç­ï¼ˆç‚º 10/10 åœ‹æ…¶é€£å‡èª¿æ•´ï¼‰
```

**è·¨å¹´åº¦æŸ¥è©¢ï¼š** è‡ªå‹•ä¸¦ç™¼è«‹æ±‚å¤šå¹´åº¦è³‡æ–™ä¸¦å¿«å–ã€‚

---

#### 2.2.4 `holiday stats <year> [month]`

æŸ¥è©¢å‡æœŸçµ±è¨ˆè³‡è¨Šã€‚

**åƒæ•¸ï¼š**
- `<year>` (å¿…å¡«): å¹´ä»½ (2017-2026)
- `[month]` (å¯é¸): æœˆä»½ (1-12)

**é¸é …ï¼š**
- `-f, --format <format>`: è¼¸å‡ºæ ¼å¼

**è¼¸å‡ºç¯„ä¾‹ï¼š**

```bash
$ holiday stats 2025
2025 å¹´å‡æœŸçµ±è¨ˆï¼š
  ç¸½å‡æœŸå¤©æ•¸ï¼š115 å¤©
  åœ‹å®šå‡æ—¥ï¼š113 å¤©
  è£œå‡å¤©æ•¸ï¼š2 å¤©
  èª¿æ•´æ”¾å‡ï¼š0 å¤©
  è£œç­å¤©æ•¸ï¼š2 å¤©

å‡æœŸé¡å‹åˆ†å¸ƒï¼š
  æ˜¥ç¯€ï¼š9 å¤©
  åœ‹æ…¶æ—¥ï¼š3 å¤©
  æ¸…æ˜ç¯€ï¼š4 å¤©
  ...

$ holiday stats 2025 10
2025 å¹´ 10 æœˆå‡æœŸçµ±è¨ˆï¼š
  ç¸½å‡æœŸå¤©æ•¸ï¼š9 å¤©
  åœ‹å®šå‡æ—¥ï¼š8 å¤©
  è£œå‡å¤©æ•¸ï¼š1 å¤©
```

---

#### 2.2.5 `holiday list <year>`

åˆ—å‡ºæŒ‡å®šå¹´ä»½çš„æ‰€æœ‰å‡æœŸã€‚

**åƒæ•¸ï¼š**
- `<year>` (å¿…å¡«): å¹´ä»½ (2017-2026)

**é¸é …ï¼š**
- `-f, --format <format>`: è¼¸å‡ºæ ¼å¼
- `--holidays-only`: åªé¡¯ç¤ºå‡æœŸï¼ˆæ’é™¤ä¸€èˆ¬æ—¥æœŸï¼‰
- `--group-by <type>`: åˆ†çµ„æ–¹å¼ (month | type)

**è¼¸å‡ºç¯„ä¾‹ï¼š**

```bash
$ holiday list 2025 --holidays-only --group-by month
2025 å¹´å‡æœŸæ¸…å–®ï¼š

ä¸€æœˆ (14 å€‹å‡æœŸ)ï¼š
  2025-01-01 (ä¸‰) é–‹åœ‹ç´€å¿µæ—¥
  2025-01-04 (å…­) é€±æœ«
  ...

äºŒæœˆ (12 å€‹å‡æœŸ)ï¼š
  ...
```

---

#### 2.2.6 `holiday years`

åˆ—å‡ºæ”¯æ´æŸ¥è©¢çš„å¹´ä»½ç¯„åœã€‚

**è¼¸å‡ºç¯„ä¾‹ï¼š**

```bash
$ holiday years
æ”¯æ´çš„å¹´ä»½ç¯„åœï¼š2017-2026

å¯ç”¨å¹´ä»½ï¼š
  2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024, 2025, 2026

è³‡æ–™ä¾†æºï¼šTaiwanCalendar
```

---

#### 2.2.7 `holiday today`

æŸ¥è©¢ä»Šå¤©æ˜¯å¦ç‚ºå‡æœŸï¼ˆ`check` çš„å¿«æ·æ–¹å¼ï¼‰ã€‚

**è¼¸å‡ºç¯„ä¾‹ï¼š**

```bash
$ holiday today
2025-01-05 (æ—¥) æ˜¯å‡æœŸï¼šé€±æœ«
```

---

#### 2.2.8 `holiday next [count]`

æŸ¥è©¢æ¥ä¸‹ä¾†çš„å‡æœŸã€‚

**åƒæ•¸ï¼š**
- `[count]` (å¯é¸): è¦é¡¯ç¤ºçš„å‡æœŸæ•¸é‡ï¼Œé è¨­ 5

**é¸é …ï¼š**
- `--skip-weekends`: è·³éä¸€èˆ¬é€±æœ«ï¼Œåªé¡¯ç¤ºç‰¹æ®Šå‡æ—¥

**è¼¸å‡ºç¯„ä¾‹ï¼š**

```bash
$ holiday next 3
æ¥ä¸‹ä¾†çš„ 3 å€‹å‡æœŸï¼š
  2025-01-11 (å…­) é€±æœ« - 6 å¤©å¾Œ
  2025-01-12 (æ—¥) é€±æœ« - 7 å¤©å¾Œ
  2025-01-18 (å…­) é€±æœ« - 13 å¤©å¾Œ

$ holiday next 3 --skip-weekends
æ¥ä¸‹ä¾†çš„ 3 å€‹ç‰¹æ®Šå‡æ—¥ï¼š
  2025-01-27 (ä¸€) æ˜¥ç¯€ - 22 å¤©å¾Œ
  2025-01-28 (äºŒ) æ˜¥ç¯€ - 23 å¤©å¾Œ
  2025-01-29 (ä¸‰) æ˜¥ç¯€ - 24 å¤©å¾Œ
```

**é‚Šç•Œæ¢ä»¶è™•ç†ï¼š** ç•¶æŸ¥è©¢è¶…å‡ºæ”¯æ´å¹´ä»½ç¯„åœæ™‚ï¼Œé¡¯ç¤ºå¯ç”¨è³‡æ–™ä¸¦æç¤ºè­¦å‘Šã€‚

```bash
# å‡è¨­åœ¨ 2026 å¹´ 12 æœˆåŸ·è¡Œ
$ holiday next 5
æ¥ä¸‹ä¾†çš„ 2 å€‹å‡æœŸï¼š
  2026-12-25 (äº”) è¡Œæ†²ç´€å¿µæ—¥
  2026-12-26 (å…­) é€±æœ«
âš  å·²é”æ”¯æ´å¹´ä»½ä¸Šé™ (2026)ï¼Œåƒ…é¡¯ç¤º 2 ç­†
```

---

#### 2.2.9 `holiday month [year-month]`

æŸ¥è©¢æŒ‡å®šæœˆä»½çš„å‡æœŸï¼ˆé è¨­ç•¶æœˆï¼‰ã€‚

**åƒæ•¸ï¼š**
- `[year-month]` (å¯é¸): å¹´æœˆï¼Œæ ¼å¼ `YYYY-MM`ï¼Œé è¨­ç•¶æœˆ

**è¼¸å‡ºç¯„ä¾‹ï¼š**

```bash
$ holiday month
2025 å¹´ 1 æœˆå‡æœŸï¼š
  2025-01-01 (ä¸‰) é–‹åœ‹ç´€å¿µæ—¥
  2025-01-04 (å…­) é€±æœ«
  ...
å…± 14 å€‹å‡æœŸ

$ holiday month 2025-10
2025 å¹´ 10 æœˆå‡æœŸï¼š
  ...
```

---

#### 2.2.10 `holiday workdays <year-month>`

è¨ˆç®—æŒ‡å®šæœˆä»½çš„å·¥ä½œå¤©æ•¸ã€‚

**åƒæ•¸ï¼š**
- `<year-month>` (å¿…å¡«): å¹´æœˆï¼Œæ ¼å¼ `YYYY-MM`

**é¸é …ï¼š**
- `-f, --format <format>`: è¼¸å‡ºæ ¼å¼

**è¼¸å‡ºç¯„ä¾‹ï¼š**

```bash
$ holiday workdays 2025-10
2025 å¹´ 10 æœˆå·¥ä½œå¤©çµ±è¨ˆï¼š
  ç¸½å¤©æ•¸ï¼š31 å¤©
  å·¥ä½œå¤©ï¼š22 å¤©
  å‡æœŸï¼š9 å¤©
  è£œç­æ—¥ï¼š0 å¤©
```

---

#### 2.2.11 `holiday between <start> <end>`

è¨ˆç®—å…©æ—¥æœŸé–“çš„å¤©æ•¸çµ±è¨ˆã€‚

**åƒæ•¸ï¼š**
- `<start>` (å¿…å¡«): é–‹å§‹æ—¥æœŸ
- `<end>` (å¿…å¡«): çµæŸæ—¥æœŸ

**é¸é …ï¼š**
- `-f, --format <format>`: è¼¸å‡ºæ ¼å¼
- `--workdays`: åªé¡¯ç¤ºå·¥ä½œå¤©æ•¸

**è¼¸å‡ºç¯„ä¾‹ï¼š**

```bash
$ holiday between 2025-01-01 2025-01-31
2025-01-01 åˆ° 2025-01-31 çµ±è¨ˆï¼š
  ç¸½å¤©æ•¸ï¼š31 å¤©
  å·¥ä½œå¤©ï¼š17 å¤©
  å‡æœŸï¼š14 å¤©

$ holiday between 2025-01-01 2025-01-31 --workdays
17
```

---

#### 2.2.12 `holiday cache <action>`

å¿«å–ç®¡ç†ã€‚

**å­å‘½ä»¤ï¼š**
- `holiday cache status`: é¡¯ç¤ºå¿«å–ç‹€æ…‹
- `holiday cache clear`: æ¸…é™¤æ‰€æœ‰å¿«å–

**è¼¸å‡ºç¯„ä¾‹ï¼š**

```bash
$ holiday cache status
å¿«å–ç‹€æ…‹ï¼š
  ä½ç½®ï¼š~/.config/holiday/cache
  å·²å¿«å–å¹´ä»½ï¼š2024, 2025
  å¿«å–å¤§å°ï¼š45 KB
  TTLï¼š1 å°æ™‚

$ holiday cache clear
å·²æ¸…é™¤æ‰€æœ‰å¿«å–
```

---

#### 2.2.13 `holiday config <action>`

è¨­å®šç®¡ç†ã€‚

**å­å‘½ä»¤ï¼š**
- `holiday config list`: åˆ—å‡ºæ‰€æœ‰è¨­å®š
- `holiday config get <key>`: å–å¾—è¨­å®šå€¼
- `holiday config set <key> <value>`: è¨­å®šå€¼

**å¯è¨­å®šé …ç›®ï¼š**
- `format`: é è¨­è¼¸å‡ºæ ¼å¼ (simple | json | table)

**è¼¸å‡ºç¯„ä¾‹ï¼š**

```bash
$ holiday config list
ç›®å‰è¨­å®šï¼š
  format: simple

$ holiday config set format table
å·²è¨­å®š format = table

$ holiday config get format
table
```

---

#### 2.2.14 `holiday health`

ç³»çµ±å¥åº·æª¢æŸ¥ã€‚

**è¼¸å‡ºç¯„ä¾‹ï¼š**

```bash
$ holiday health
ç³»çµ±å¥åº·ç‹€æ…‹ï¼šæ­£å¸¸ âœ“

å…ƒä»¶ç‹€æ…‹ï¼š
  âœ“ å¿«å–å¯ç”¨
  âœ“ å¤–éƒ¨ APIï¼šå¯é€£ç·š

ç‰ˆæœ¬ï¼š1.0.0
å¿«å– TTLï¼š1 å°æ™‚
```

---

#### 2.2.15 `holiday completion <shell>`

ç”¢ç”Ÿ shell è‡ªå‹•è£œå…¨è…³æœ¬ã€‚

**åƒæ•¸ï¼š**
- `<shell>`: shell é¡å‹ (bash | zsh | fish)

**è¼¸å‡ºç¯„ä¾‹ï¼š**

```bash
$ holiday completion bash >> ~/.bashrc
$ holiday completion zsh >> ~/.zshrc
$ holiday completion fish >> ~/.config/fish/completions/holiday.fish
```

---

### 2.3 æ—¥æœŸæ ¼å¼æ”¯æ´

#### æ¨™æº–æ ¼å¼

| æ ¼å¼ | ç¯„ä¾‹ | èªªæ˜ |
|------|------|------|
| YYYY-MM-DD | 2025-10-10 | ISO 8601 æ ¼å¼ |
| YYYYMMDD | 20251010 | ç·Šæ¹Šæ ¼å¼ |
| YYYY/MM/DD | 2025/10/10 | æ–œç·šåˆ†éš” |

#### ç›¸å°æ—¥æœŸ

| æ ¼å¼ | ç¯„ä¾‹ | èªªæ˜ |
|------|------|------|
| today | `holiday today` | ä»Šå¤© |
| tomorrow | `holiday check tomorrow` | æ˜å¤© |
| yesterday | `holiday check yesterday` | æ˜¨å¤© |
| next {weekday} | `holiday check next friday` | ä¸‹é€±äº” |
| {n}d | `holiday range today 7d` | æœªä¾† 7 å¤© |
| {n}w | `holiday range today 2w` | æœªä¾† 2 é€± |
| {n}m | `holiday range today 1m` | æœªä¾† 1 å€‹æœˆ |

---

### 2.4 å…¨åŸŸé¸é …

| é¸é … | èªªæ˜ |
|------|------|
| `-f, --format <format>` | è¼¸å‡ºæ ¼å¼ï¼šjson \| table \| simple (é è¨­) |
| `-q, --quiet` | å®‰éœæ¨¡å¼ï¼Œåªè¼¸å‡ºå¿…è¦è³‡è¨Š |
| `-v, --verbose` | è©³ç´°æ¨¡å¼ï¼Œé¡¯ç¤ºé¡å¤–é™¤éŒ¯è³‡è¨Š |
| `--no-color` | åœç”¨å½©è‰²è¼¸å‡º |
| `--no-cache` | å¼·åˆ¶å¾ API é‡æ–°ç²å–ï¼Œä¸ä½¿ç”¨å¿«å– |
| `--version` | é¡¯ç¤ºç‰ˆæœ¬è™Ÿ |
| `--help` | é¡¯ç¤ºèªªæ˜ |

---

## 3. è³‡æ–™çµæ§‹

### 3.1 Holiday ä»‹é¢

```typescript
interface Holiday {
  /** æ—¥æœŸï¼Œæ ¼å¼ç‚º YYYYMMDD */
  date: string;
  /** æ˜ŸæœŸå¹¾ï¼Œä¸­æ–‡è¡¨ç¤ºï¼ˆä¸€ã€äºŒã€ä¸‰ã€å››ã€äº”ã€å…­ã€æ—¥ï¼‰ */
  week: string;
  /** æ˜¯å¦ç‚ºå‡æ—¥ */
  isHoliday: boolean;
  /** å‡æ—¥èªªæ˜ */
  description: string;
}
```

### 3.2 HolidayStats ä»‹é¢

```typescript
interface HolidayStats {
  /** å¹´ä»½ */
  year: number;
  /** ç¸½å‡æ—¥å¤©æ•¸ */
  totalHolidays: number;
  /** åœ‹å®šå‡æ—¥å¤©æ•¸ */
  nationalHolidays: number;
  /** è£œå‡å¤©æ•¸ */
  compensatoryDays: number;
  /** èª¿æ•´æ”¾å‡å¤©æ•¸ */
  adjustedHolidays: number;
  /** è£œç­å¤©æ•¸ */
  workingDays: number;
  /** å‡æ—¥é¡å‹åˆ†å¸ƒ */
  holidayTypes: Record<string, number>;
}
```

### 3.3 å‡æ—¥é¡å‹å¸¸æ•¸

```typescript
const HOLIDAY_TYPES = {
  NATIONAL: 'åœ‹å®šå‡æ—¥',
  COMPENSATORY: 'è£œå‡',
  ADJUSTED: 'èª¿æ•´æ”¾å‡',
  WORKING: 'è£œè¡Œä¸Šç­',
  LUNAR_NEW_YEAR: 'æ˜¥ç¯€',
  TOMB_SWEEPING: 'æ¸…æ˜ç¯€',
  DRAGON_BOAT: 'ç«¯åˆç¯€',
  MID_AUTUMN: 'ä¸­ç§‹ç¯€',
  NATIONAL_DAY: 'åœ‹æ…¶æ—¥'
};
```

---

## 4. æŠ€è¡“æ¶æ§‹

### 4.1 å°ˆæ¡ˆçµæ§‹

```
taiwan-holiday-cli/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts              # å…¥å£é»
â”‚   â”œâ”€â”€ cli.ts                # CLI è¨­å®š
â”‚   â”œâ”€â”€ commands/             # å‘½ä»¤å¯¦ä½œ
â”‚   â”‚   â”œâ”€â”€ check.ts
â”‚   â”‚   â”œâ”€â”€ range.ts
â”‚   â”‚   â”œâ”€â”€ stats.ts
â”‚   â”‚   â”œâ”€â”€ list.ts
â”‚   â”‚   â”œâ”€â”€ years.ts
â”‚   â”‚   â”œâ”€â”€ today.ts
â”‚   â”‚   â”œâ”€â”€ next.ts
â”‚   â”‚   â”œâ”€â”€ month.ts
â”‚   â”‚   â”œâ”€â”€ workdays.ts
â”‚   â”‚   â”œâ”€â”€ between.ts
â”‚   â”‚   â”œâ”€â”€ cache.ts
â”‚   â”‚   â”œâ”€â”€ config.ts
â”‚   â”‚   â”œâ”€â”€ health.ts
â”‚   â”‚   â””â”€â”€ completion.ts
â”‚   â”œâ”€â”€ services/             # æœå‹™å±¤
â”‚   â”‚   â””â”€â”€ holiday-service.ts
â”‚   â”œâ”€â”€ lib/                  # å…±ç”¨ç¨‹å¼åº«
â”‚   â”‚   â”œâ”€â”€ output.ts         # è¼¸å‡ºæ ¼å¼åŒ–
â”‚   â”‚   â”œâ”€â”€ date-parser.ts    # æ—¥æœŸè§£æï¼ˆå«ç›¸å°æ—¥æœŸï¼‰
â”‚   â”‚   â””â”€â”€ cache.ts          # å¿«å–ç®¡ç†
â”‚   â”œâ”€â”€ types/                # å‹åˆ¥å®šç¾©
â”‚   â”‚   â””â”€â”€ holiday.ts
â”‚   â””â”€â”€ utils/                # å·¥å…·å‡½æ•¸
â”‚       â”œâ”€â”€ format.ts
â”‚       â””â”€â”€ color.ts
â”œâ”€â”€ tests/                    # æ¸¬è©¦
â”‚   â”œâ”€â”€ unit/                 # å–®å…ƒæ¸¬è©¦
â”‚   â”œâ”€â”€ integration/          # æ•´åˆæ¸¬è©¦
â”‚   â””â”€â”€ e2e/                  # E2E æ¸¬è©¦
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```

### 4.2 ç›¸ä¾å¥—ä»¶

```json
{
  "dependencies": {
    "commander": "^12.1.0",
    "cli-table3": "^0.6.5",
    "ofetch": "^1.4.1",
    "conf": "^13.0.1",
    "dotenv": "^16.4.7"
  },
  "devDependencies": {
    "@types/node": "^22.10.2",
    "typescript": "^5.7.2",
    "tsx": "^4.21.0",
    "vitest": "^2.1.8",
    "@vitest/coverage-v8": "^2.1.8"
  }
}
```

### 4.3 å¿«å–ç­–ç•¥

| é …ç›® | è¨­å®š |
|------|------|
| å¿«å–ä½ç½® | ä½¿ç”¨ `conf` å¥—ä»¶ç®¡ç† (`~/.config/holiday/`) |
| å¿«å– TTL | 1 å°æ™‚ï¼ˆå›ºå®šï¼‰ |
| å¿«å– Key | `holidays_{year}` |
| é›¢ç·š fallback | ç¶²è·¯å¤±æ•—æ™‚è‡ªå‹•ä½¿ç”¨å¿«å–ï¼Œä¸¦é¡¯ç¤ºè­¦å‘Š |
| ä¸¦ç™¼è«‹æ±‚ | è·¨å¹´åº¦æŸ¥è©¢æ™‚ä¸¦ç™¼è«‹æ±‚ï¼Œçµæœè‡ªå‹•å¿«å– |

**é›¢ç·š fallback ç¯„ä¾‹ï¼š**

```bash
$ holiday check 2025-10-10
âš  ç¶²è·¯ç„¡æ³•é€£ç·šï¼Œä½¿ç”¨å¿«å–è³‡æ–™ (2025-01-05 12:30)
2025-10-10 (äº”) æ˜¯å‡æœŸï¼šåœ‹æ…¶æ—¥
```

---

## 5. è¼¸å‡ºè¦ç¯„

### 5.1 stdout/stderr åˆ†é›¢

| è¼¸å‡ºé¡å‹ | å°å‘ |
|----------|------|
| æ­£å¸¸çµæœ | stdout |
| éŒ¯èª¤è¨Šæ¯ | stderr |
| è­¦å‘Šè¨Šæ¯ | stderr |
| é™¤éŒ¯è¨Šæ¯ | stderr (éœ€ `--verbose`) |

**ç¯„ä¾‹ï¼š**

```bash
# æ­£å¸¸è¼¸å‡º â†’ stdout
$ holiday check 2025-10-10
2025-10-10 (äº”) æ˜¯å‡æœŸï¼šåœ‹æ…¶æ—¥

# éŒ¯èª¤è¼¸å‡º â†’ stderrï¼Œexit code 1
$ holiday check invalid
éŒ¯èª¤ï¼šç„¡æ•ˆçš„æ—¥æœŸæ ¼å¼    # â†’ stderr

# å¯ç”¨æ–¼ pipe
$ holiday list 2025 -f json | jq '.holidays[0]'
```

### 5.2 è¼¸å‡ºæ ¼å¼

#### Simple æ ¼å¼ï¼ˆé è¨­ï¼‰

äººé¡å‹å–„çš„ç°¡æ½”è¼¸å‡ºï¼Œé©åˆçµ‚ç«¯æ©Ÿä½¿ç”¨ã€‚

#### JSON æ ¼å¼

çµæ§‹åŒ– JSON è¼¸å‡ºï¼Œé©åˆç¨‹å¼è™•ç†å’Œç®¡é“æ“ä½œã€‚

#### Table æ ¼å¼

ä½¿ç”¨ cli-table3 çš„è¡¨æ ¼è¼¸å‡ºï¼Œé©åˆæª¢è¦–å¤šç­†è³‡æ–™ã€‚

---

## 6. éŒ¯èª¤è™•ç†

### 6.1 éŒ¯èª¤é¡å‹

| éŒ¯èª¤é¡å‹ | èªªæ˜ | é€€å‡ºç¢¼ |
|----------|------|--------|
| INVALID_YEAR | ç„¡æ•ˆçš„å¹´ä»½ | 1 |
| INVALID_MONTH | ç„¡æ•ˆçš„æœˆä»½ | 1 |
| INVALID_DATE | ç„¡æ•ˆçš„æ—¥æœŸ | 1 |
| INVALID_DATE_FORMAT | ç„¡æ•ˆçš„æ—¥æœŸæ ¼å¼ | 1 |
| NETWORK_ERROR | ç¶²è·¯éŒ¯èª¤ | 2 |
| API_ERROR | API éŒ¯èª¤ | 2 |
| TIMEOUT_ERROR | è«‹æ±‚è¶…æ™‚ | 2 |

### 6.2 éŒ¯èª¤è¨Šæ¯ç¯„ä¾‹

```bash
$ holiday check 2030-01-01
éŒ¯èª¤ï¼šå¹´ä»½ 2030 è¶…å‡ºæ”¯æ´ç¯„åœ (2017-2026)    # â†’ stderr, exit 1

$ holiday check invalid-date
éŒ¯èª¤ï¼šç„¡æ•ˆçš„æ—¥æœŸæ ¼å¼ï¼Œè«‹ä½¿ç”¨ YYYY-MM-DD æˆ– YYYYMMDD    # â†’ stderr, exit 1
```

---

## 7. æ¸¬è©¦ç­–ç•¥

### 7.1 æ¸¬è©¦ç¯„åœ

| é¡å‹ | ç¯„åœ | å·¥å…· |
|------|------|------|
| å–®å…ƒæ¸¬è©¦ | æ‰€æœ‰æ¨¡çµ„ï¼ˆdate-parser, holiday-service, output ç­‰ï¼‰ | vitest |
| æ•´åˆæ¸¬è©¦ | commands + services æ•´åˆ | vitest |
| E2E æ¸¬è©¦ | å¯¦éš› CLI åŸ·è¡Œèˆ‡è¼¸å‡ºé©—è­‰ | vitest |

### 7.2 è¦†è“‹ç‡ç›®æ¨™

| æŒ‡æ¨™ | ç›®æ¨™ |
|------|------|
| Statements | >= 85% |
| Branches | >= 85% |
| Functions | >= 85% |
| Lines | >= 85% |

---

## 8. CI/CD

### 8.1 GitHub Actions Workflow

#### PR æª¢æŸ¥

```yaml
on: [pull_request]
jobs:
  test:
    - npm ci
    - npm run lint
    - npm run test
    - npm run test:coverage  # æª¢æŸ¥è¦†è“‹ç‡ >= 85%
```

#### ç™¼å¸ƒæµç¨‹

```yaml
on:
  push:
    tags: ['v*']
jobs:
  publish:
    - npm publish  # ç™¼å¸ƒåˆ° npm
  release:
    - å»ºç½®å¤šå¹³å° binary
    - ç™¼å¸ƒåˆ° GitHub Release
```

### 8.2 å¤šå¹³å° Binary å»ºç½®

```bash
# macOS ARM64
bun build src/index.ts --compile --target=bun-darwin-arm64 --outfile dist/holiday-macos-arm64

# macOS x64
bun build src/index.ts --compile --target=bun-darwin-x64 --outfile dist/holiday-macos-x64

# Linux x64
bun build src/index.ts --compile --target=bun-linux-x64 --outfile dist/holiday-linux-x64

# Linux ARM64
bun build src/index.ts --compile --target=bun-linux-arm64 --outfile dist/holiday-linux-arm64

# Windows x64
bun build src/index.ts --compile --target=bun-windows-x64 --outfile dist/holiday-windows-x64.exe
```

---

## 9. åŠŸèƒ½å°ç…§è¡¨

### åŸ MCP Server â†’ CLI å°ç…§

| MCP Server åŠŸèƒ½ | CLI å‘½ä»¤ | ç‹€æ…‹ |
|-----------------|----------|------|
| `check_holiday` tool | `holiday check <date>` | âœ… |
| `get_holidays_in_range` tool | `holiday range <start> <end>` | âœ… |
| `get_holiday_stats` tool | `holiday stats <year> [month]` | âœ… |
| `taiwan-holidays://years` resource | `holiday years` | âœ… |
| `taiwan-holidays://holidays/{year}` resource | `holiday list <year>` | âœ… |
| `taiwan-holidays://stats/{year}` resource | `holiday stats <year>` | âœ… |
| `taiwan-holidays://health` resource | `holiday health` | âœ… |
| å¿«å–æ©Ÿåˆ¶ | ç°¡åŒ–å›ºå®š TTL å¿«å– | âœ… |
| éŒ¯èª¤è™•ç† | CLI éŒ¯èª¤è™•ç† | âœ… |
| æ—¥æœŸè§£æ | æ—¥æœŸè§£ææ¨¡çµ„ï¼ˆå«ç›¸å°æ—¥æœŸï¼‰ | âœ… |
| Circuit Breaker | âŒ ç§»é™¤ | - |
| Request Throttler | âŒ ç§»é™¤ | - |
| Smart Cache | âŒ ç°¡åŒ–ç‚ºå›ºå®š TTL | - |

### CLI å°ˆå±¬åŠŸèƒ½

| åŠŸèƒ½ | å‘½ä»¤ | ç‹€æ…‹ |
|------|------|------|
| é è¨­å‘½ä»¤ | `holiday <date>` = `holiday check <date>` | âœ… |
| æŸ¥è©¢ä»Šå¤© | `holiday today` | âœ… |
| æŸ¥è©¢ä¸‹å€‹å‡æœŸ | `holiday next [count]` | âœ… |
| æŸ¥è©¢æŒ‡å®šæœˆä»½ | `holiday month [year-month]` | âœ… |
| å·¥ä½œå¤©è¨ˆç®— | `holiday workdays <year-month>` | âœ… |
| å€é–“çµ±è¨ˆ | `holiday between <start> <end>` | âœ… |
| å¿«å–ç®¡ç† | `holiday cache status/clear` | âœ… |
| è¨­å®šç®¡ç† | `holiday config list/get/set` | âœ… |
| ç›¸å°æ—¥æœŸ | `tomorrow`, `next friday`, `2w` | âœ… |
| é›¢ç·š fallback | è‡ªå‹•ä½¿ç”¨å¿«å– + è­¦å‘Š | âœ… |
| Shell è‡ªå‹•è£œå…¨ | `holiday completion` | âœ… |
| å¤šç¨®è¼¸å‡ºæ ¼å¼ | `-f, --format` | âœ… |
| å¼·åˆ¶åˆ·æ–° | `--no-cache` | âœ… |

---

## 10. æœªä¾†æ“´å±•

### 10.1 åŠŸèƒ½æ“´å±•

- [ ] æ”¯æ´æ›´å¤šå¹´ä»½ï¼ˆéœ€è³‡æ–™ä¾†æºæ”¯æ´ï¼‰
- [ ] æ•´åˆè¡Œäº‹æ›†åŒ¯å‡º (iCal)
- [ ] äº’å‹•æ¨¡å¼

### 10.2 æ¶æ§‹æ”¹å–„å»ºè­°

åŸºæ–¼ç¨‹å¼ç¢¼ç°¡åŒ–åˆ†æï¼ˆcode-simplifierï¼‰èˆ‡æ¶æ§‹å¸«è©•ä¼°ï¼ˆGeminiï¼‰ï¼Œå»ºè­°ä»¥ä¸‹é‡æ§‹æ–¹å‘ï¼š

#### å„ªå…ˆç´š 1ï¼šæå–å…±ç”¨æ¨¡çµ„ï¼ˆä½é¢¨éšªã€é«˜æ•ˆç›Šï¼‰âœ… å·²å®Œæˆ

| é …ç›® | å»ºè­° | ç‹€æ…‹ |
|------|------|------|
| è¼¸å‡ºæ ¼å¼åŒ– | å»ºç«‹ `src/lib/formatter.ts` çµ±ä¸€æ ¼å¼åŒ–é‚è¼¯ | âœ… å®Œæˆ |
| è¼¸å‡ºæœå‹™ | å»ºç«‹ `src/lib/output.ts` å°è£ console è¼¸å‡º | âœ… å®Œæˆ |
| æ¸¬è©¦å·¥å…· | æå– mock åˆ° `tests/helpers/mocks.ts` | âœ… å®Œæˆ |

#### å„ªå…ˆç´š 2ï¼šæœå‹™å±¤é‡æ§‹ï¼ˆä¸­é¢¨éšªã€é«˜æ•ˆç›Šï¼‰ğŸ”¶ éƒ¨åˆ†å®Œæˆ

| é …ç›® | å»ºè­° | ç‹€æ…‹ | èªªæ˜ |
|------|------|------|------|
| Repository æ¨¡å¼ | å»ºç«‹ `HolidayRepository` | âœ… å®Œæˆ | å°è£å¿«å–èˆ‡ API é‚è¼¯ |
| æ‹†åˆ† HolidayService | åˆ†é›¢ç‚º Calculator + Filter | â­ï¸ å»¶å¾Œ | ç•¶å‰æ¶æ§‹å·²è¶³å¤ ï¼Œè¨˜ç‚ºæŠ€è¡“å‚µ |
| çµ±ä¸€æ—¥æœŸè™•ç† | å¼·åŒ– `date-parser.ts` | âš ï¸ å¾…è™•ç† | **Gemini å»ºè­°ï¼šä¸‹ä¸€å€‹æœ€é«˜å„ªå…ˆç´š** |

#### å„ªå…ˆç´š 3ï¼šç¨‹å¼ç¢¼å“è³ªï¼ˆä½é¢¨éšªã€ä¸­æ•ˆç›Šï¼‰â³ å¾…è™•ç†

| é …ç›® | å»ºè­° | ç·Šæ€¥åº¦ | Gemini å»ºè­° |
|------|------|--------|-------------|
| é¡å‹å¼·åŒ– | æ¸›å°‘ `any` ä½¿ç”¨ï¼ŒåŠ å¼·é¡å‹å®šç¾© | ğŸ”´ ç·Šæ€¥ | å•Ÿç”¨ `strict: true`ï¼Œæ¶ˆæ»…æ‰€æœ‰ `any` |
| éŒ¯èª¤è™•ç† | å»ºç«‹çµ±ä¸€éŒ¯èª¤è™•ç†æ©Ÿåˆ¶ | ğŸ”´ ç·Šæ€¥ | å»ºç«‹è‡ªå®šç¾©éŒ¯èª¤é¡åˆ¥ï¼Œçµ±ä¸€é€€å‡ºç¢¼ |
| å¸¸æ•¸é›†ä¸­ | å°‡æ•£è½çš„é…ç½®é›†ä¸­åˆ° `src/lib/constants.ts` | ğŸŸ¡ é‡è¦ | æ¶ˆé™¤é­”è¡“å­—ä¸²å’Œé­”è¡“æ•¸å­— |
| å‘½ä»¤å·¥å»  | è€ƒæ…®å‘½ä»¤å·¥å» æ¨¡å¼æ¸›å°‘é‡è¤‡ç¨‹å¼ç¢¼ | ğŸŸ¢ å»ºè­° | æ¨™æº–åŒ–å‘½ä»¤å‰µå»ºéç¨‹ |

#### é‡æ§‹åŸå‰‡

1. **æ¼¸é€²å¼é‡æ§‹**ï¼šæ¯æ¬¡åªæ”¹ä¸€å€‹æ¨¡çµ„ï¼Œç¢ºä¿æ¸¬è©¦é€šé
2. **æ¸¬è©¦å…ˆè¡Œ**ï¼šåˆ©ç”¨ 95% è¦†è“‹ç‡ç¢ºä¿é‡æ§‹ä¸ç ´å£åŠŸèƒ½
3. **å‘å¾Œç›¸å®¹**ï¼šAPI ä»‹é¢ç¶­æŒç©©å®šï¼Œå…§éƒ¨å¯¦ä½œæ¼¸é€²æ”¹å–„

### 10.3 Gemini æ¶æ§‹å¸«å¯©æŸ¥å ±å‘Š (2026-01-05)

#### ç¸½é«”è©•åƒ¹

> é€™æ˜¯ä¸€æ¬¡éå¸¸æˆåŠŸçš„éšæ®µæ€§é‡æ§‹ã€‚å°ˆæ¡ˆå¾ä¸€å€‹å¯èƒ½è¼ƒç‚ºé¬†æ•£çš„çµæ§‹ï¼Œæ­£åœ¨æœå‘ä¸€å€‹å¯ç¶­è­·ã€å¯æ“´å±•çš„æ‡‰ç”¨ç¨‹å¼æ¶æ§‹æ¼”é€²ã€‚

#### é‡æ§‹æˆæœ

| æŒ‡æ¨™ | å€¼ |
|------|-----|
| æ¸¬è©¦æ•¸é‡ | 243 passing |
| è¦†è“‹ç‡ | 95% |
| æ–°å¢æª”æ¡ˆ | 4 å€‹ |
| ç›®æ¨™é”æˆåº¦ | é«˜ |

#### æ¶æ§‹å“è³ªè©•ä¼°

**å„ªé»ï¼š**
- åˆ†å±¤æ¸…æ™° (Commands â†’ Services â†’ Repository)
- é«˜å¯æ¸¬è©¦æ€§ (95% è¦†è“‹ç‡)
- é—œæ³¨é»åˆ†é›¢è‰¯å¥½

**å¾…æ”¹é€²ï¼š**
- å¥å£¯æ€§ä¸è¶³ï¼ˆç¼ºä¹çµ±ä¸€éŒ¯èª¤è™•ç†ï¼‰
- æ—¥æœŸè™•ç†ä¸€è‡´æ€§é¢¨éšª

#### å¾ŒçºŒè·¯ç·šåœ–

1. **éå›º (Harden)**ï¼šçµ±ä¸€æ—¥æœŸè™•ç†ã€é¡å‹å¼·åŒ–ã€éŒ¯èª¤è™•ç†
2. **å„ªåŒ– (Refine)**ï¼šå¸¸æ•¸é›†ä¸­ã€å‘½ä»¤å·¥å» 
3. **æ¼”é€² (Evolve)**ï¼šç›£æ§ HolidayService è¤‡é›œåº¦ï¼Œé©æ™‚æ‹†åˆ†

#### æŠ€è¡“å‚µè¨˜éŒ„

| é …ç›® | è§¸ç™¼æ¢ä»¶ | èªªæ˜ |
|------|----------|------|
| æ‹†åˆ† HolidayService | å¢åŠ è¤‡é›œè¨ˆç®—é‚è¼¯æ™‚ | é¿å… God Object åæ¨¡å¼ |
| å¼•å…¥æ—¥æœŸåº« | æ—¥æœŸè™•ç†éœ€æ±‚å¢åŠ æ™‚ | è€ƒæ…® `date-fns` æˆ– `dayjs` |

### 10.4 å¹´ä»½æ”¯æ´æ¶æ§‹å»ºè­° (Gemini 2026-01-05)

#### å•é¡ŒèƒŒæ™¯

ç›®å‰å¹´ä»½ç¯„åœä½¿ç”¨ç¡¬ç·¨ç¢¼å¸¸æ•¸ `SUPPORTED_YEAR_RANGE`ï¼Œæ¯å¹´éœ€æ‰‹å‹•æ›´æ–°ï¼š
- å¸¸æ•¸å®šç¾© (`src/types/holiday.ts`)
- å‘½ä»¤èªªæ˜æ–‡å­— (`'å¹´ä»½ (2017-2026)'`)
- Shell completion è…³æœ¬

è³‡æ–™ä¾†æº (TaiwanCalendar) ä¾æ…£ä¾‹æ¯å¹´æ–°å¢æª”æ¡ˆï¼š
```
https://cdn.jsdelivr.net/gh/ruyut/TaiwanCalendar/data/{year}.json
```

#### æ–¹æ¡ˆæ¯”è¼ƒ

| æ–¹æ¡ˆ | èªªæ˜ | UX | ç¶­è­·æˆæœ¬ | æ¨è–¦ |
|------|------|-----|----------|------|
| æ¨‚è§€è«‹æ±‚ | ç›´æ¥è«‹æ±‚ï¼Œ404 æ™‚å ±éŒ¯ | âŒ å·® | é›¶ | âŒ |
| **API æ¢ç´¢ + å¿«å–** | å‹•æ…‹æ¢ç´¢å¯ç”¨å¹´ä»½ | âœ… ä½³ | é›¶ | âœ… |
| è¶…å¤§ç¯„åœ | è¨­ end=2099 | âš ï¸ ä¸ç²¾æº– | ä½ | âŒ |

#### æ¨è–¦æ–¹æ¡ˆï¼šé ç«¯ API æ¢ç´¢èˆ‡æœ¬åœ°å¿«å–

**æ ¸å¿ƒæ¦‚å¿µ**ï¼šåˆ©ç”¨ jsDelivr API å‹•æ…‹æ¢ç´¢å¯ç”¨å¹´ä»½ï¼Œæ­é…æœ¬åœ°å¿«å–æå‡æ•ˆèƒ½ã€‚

**API ç«¯é»**ï¼š
```
https://data.jsdelivr.net/gh/ruyut/TaiwanCalendar/data/
```

**å¯¦ä½œæ¶æ§‹**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Commands      â”‚â”€â”€â”€â”€â–¶â”‚  YearService â”‚â”€â”€â”€â”€â–¶â”‚  jsDelivr API   â”‚
â”‚   Completion    â”‚     â”‚  (å¿«å– 24hr) â”‚     â”‚  (å¹´ä»½æ¢ç´¢)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ–°å¢æª”æ¡ˆ**ï¼š
- `src/services/year-service.ts` - å¹´ä»½æ¢ç´¢æœå‹™

**å¯¦ä½œæ­¥é©Ÿ**ï¼š

1. **å»ºç«‹ YearService**
   - å‘¼å« jsDelivr API å–å¾—æª”æ¡ˆåˆ—è¡¨
   - è§£ææª”åå–å¾—å¯ç”¨å¹´ä»½
   - å¿«å–çµæœ (TTL: 24 å°æ™‚)
   - æä¾› `getAvailableYears()` å’Œ `getSupportedYearRange()` æ–¹æ³•

2. **æ›´æ–°ç›¸ä¾æ¨¡çµ„**
   - ç§»é™¤ `SUPPORTED_YEAR_RANGE` ç¡¬ç·¨ç¢¼å¸¸æ•¸
   - å‘½ä»¤èªªæ˜æ–‡å­—æ”¹ç‚ºå‹•æ…‹ç”Ÿæˆ
   - Shell completion ä½¿ç”¨ YearService

3. **éŒ¯èª¤è™•ç†**
   - API å¤±æ•—æ™‚ä½¿ç”¨èˆŠå¿«å–
   - ç„¡å¿«å–æ™‚å›é€€åˆ°åˆç†é è¨­å€¼

**æ¶æ§‹å„ªå‹¢**ï¼š
- **SRP**ï¼šå¹´ä»½æ¢ç´¢é‚è¼¯ç¨ç«‹å°è£
- **DRY**ï¼šå–®ä¸€è³‡æ–™ä¾†æºï¼Œæ¶ˆé™¤ç¡¬ç·¨ç¢¼
- **é›¶ç¶­è­·**ï¼šé ç«¯æ–°å¢å¹´ä»½å¾Œ CLI è‡ªå‹•æ”¯æ´
- **UX æœ€ä½³**ï¼šç²¾æº–çš„èªªæ˜æ–‡å­—èˆ‡è‡ªå‹•å®Œæˆ
